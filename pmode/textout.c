#include "coco.h"
#include "stdarg.h"
#include "gfx.h"

#define BITMASK_LEN 8

void numberout(int x,int y,char* s,int color) {
    byte font[40*8] = {
0x00,0x11,0x10,0x00, 0x00,0x01,0x10,0x00, 0x01,0x11,0x11,0x00,0x01,0x11,0x11,0x10,0x00,0x01,0x11,0x00,0x11,0x11,0x11,0x10,0x00,0x11,0x11,0x00,0x11,0x11,0x11,0x10,0x01,0x11,0x10,0x00,0x01,0x11,0x11,0x00,
0x01,0x00,0x11,0x00, 0x00,0x11,0x10,0x00, 0x11,0x00,0x01,0x10,0x00,0x00,0x11,0x00,0x00,0x11,0x11,0x00,0x11,0x00,0x00,0x00,0x01,0x10,0x00,0x00,0x11,0x00,0x01,0x10,0x11,0x00,0x01,0x00,0x11,0x00,0x01,0x10,
0x11,0x00,0x01,0x10, 0x00,0x01,0x10,0x00, 0x00,0x00,0x11,0x10,0x00,0x01,0x10,0x00,0x01,0x10,0x11,0x00,0x11,0x11,0x11,0x00,0x11,0x00,0x00,0x00,0x00,0x00,0x11,0x00,0x11,0x10,0x01,0x00,0x11,0x00,0x01,0x10,
0x11,0x00,0x01,0x10, 0x00,0x01,0x10,0x00, 0x00,0x11,0x11,0x00,0x00,0x11,0x11,0x00,0x11,0x00,0x11,0x00,0x00,0x00,0x01,0x10,0x11,0x11,0x11,0x00,0x00,0x01,0x10,0x00,0x01,0x11,0x10,0x00,0x01,0x11,0x11,0x10,
0x11,0x00,0x01,0x10, 0x00,0x01,0x10,0x00, 0x01,0x11,0x10,0x00,0x00,0x00,0x01,0x10,0x11,0x11,0x11,0x10,0x00,0x00,0x01,0x10,0x11,0x00,0x01,0x10,0x00,0x11,0x00,0x00,0x10,0x01,0x11,0x10,0x00,0x00,0x01,0x10,
0x01,0x10,0x01,0x00, 0x00,0x01,0x10,0x00, 0x11,0x10,0x00,0x00,0x11,0x00,0x01,0x10,0x00,0x00,0x11,0x00,0x11,0x00,0x01,0x10,0x11,0x00,0x01,0x10,0x00,0x11,0x00,0x00,0x10,0x00,0x01,0x10,0x00,0x00,0x11,0x00,
0x00,0x11,0x10,0x00, 0x01,0x11,0x11,0x10, 0x11,0x11,0x11,0x10,0x01,0x11,0x11,0x00,0x00,0x00,0x11,0x00,0x01,0x11,0x11,0x00,0x01,0x11,0x11,0x00,0x00,0x11,0x00,0x00,0x01,0x11,0x11,0x00,0x01,0x11,0x10,0x00,
0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00 
    };
    struct SPRITE fontSprite = {0,0,0,0,80,8,(void*)font};
    char* ptr = s;
    int height=8;
    int pixwidth=8;
    while(*ptr) 
    {
        if(*ptr >= '0' && *ptr <= '9') {
            int sx = (*ptr-'0') << 3;
            blitrect(&fontSprite,x,y,8,8,sx,0);
        }
        x+=pixwidth;
        ++ptr;
    }
}
